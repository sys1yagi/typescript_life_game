var World = (function () {
    function World(size) {
        this.size = size;
        this.interval = 10;
        this.canvas = document.createElement("canvas");
        this.canvas.width = size * Cell.cellSize;
        this.canvas.height = size * Cell.cellSize;
        this.ctx = this.canvas.getContext("2d");
        document.body.appendChild(this.canvas);
        this.cells = new Array(size);
        for(var i = 0; i < size; i++) {
            this.cells[i] = new Array(size);
            for(var j = 0; j < size; j++) {
                var mo = Math.floor(Math.random() * 10) % 2;
                this.cells[i][j] = new Cell(mo == 0);
            }
        }
    }
    World.prototype.timeGoseBy = function (self) {
        console.log("timeGoseBy");
        for(var i = 0; i < this.size; i++) {
            for(var j = 0; j < this.size; j++) {
                self.cells[i][j].nextGeneration(i, j, self.cells);
            }
        }
        for(var i = 0; i < this.size; i++) {
            for(var j = 0; j < this.size; j++) {
                self.cells[i][j].draw(self.ctx, i, j);
            }
        }
        self.start(self);
    };
    World.prototype.start = function (self) {
        setTimeout(function () {
            self.timeGoseBy(self);
        }, 1000);
    };
    return World;
})();
var Cell = (function () {
    function Cell(isLiving) {
        this.prevLiving = false;
        this.isLiving = false;
        this.isLiving = isLiving;
        this.prevLiving = isLiving;
    }
    Cell.cellSize = 5;
    Cell.prototype.nextGeneration = function (x, y, cells) {
        this.prevLiving = this.isLiving;
    };
    Cell.prototype.draw = function (ctx, x, y) {
        if(this.isLiving) {
            ctx.fillStyle = "#000000";
        } else {
            ctx.fillStyle = "#ffffff";
        }
        ctx.fillRect(x * Cell.cellSize, y * Cell.cellSize, Cell.cellSize, Cell.cellSize);
        ctx.fill();
    };
    return Cell;
})();
window.onload = function () {
    var w = new World(100);
    w.start(w);
};
